<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

  <link rel="stylesheet" type="text/css" href="input-style.css" />
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
</head>
<body>

  <div id="mc_embed_signup">
    <form action="//anthonycandraw.us12.list-manage.com/subscribe/post?u=0daffd69e2485edd80775846e&amp;id=8e6f2417e5" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate email" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">

      <div class="mc-field-group email__container">
      	<input type="email" placeholder="wassup@yourawesomesite.com" value="" name="EMAIL" class="required email email__input" id="mce-EMAIL">
        <label class="email__label" id="email__label" for="mce-EMAIL">Email Address</label>
        <i class="email__input__warning">!</i>
      </div>

    	<div id="mce-responses" class="clear">
    		<div class="response" id="mce-error-response" style="display:none"></div>
    		<div class="response" id="mce-success-response" style="display:none"></div>
    	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->

      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_0daffd69e2485edd80775846e_8e6f2417e5" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Send" name="subscribe" id="mc-embedded-subscribe" class="button email__send"></div>

      </div>
    </form>
  </div>

</body>

<script>

// var emailInput = document.getElementById('mce-EMAIL');
// var inputLabel = document.getElementById('input-label');
// var emailInputValue = document.forms["mc-embedded-subscribe-form"]["EMAIL"].value;
// var emailSend = document.querySelector('.email__send');
// var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/igm;
//
// var emailInputListener = function(emailInputValue,emailSend,re) {
//   if (emailInputValue == null || emailInputValue == "") {
//     emailInput.classList.remove('email-input--open');
//     emailInput.classList.remove('email-input--error');
//     emailSend.classList.remove('email__send--on');
//   } else if (re.test(emailInputValue) && emailInputValue.length > 0) {
//     emailInput.classList.add('email-input--open');
//     emailInput.classList.remove('email-input-error');
//     emailSend.classList.add('email__send--on');
//   } else {
//     emailInput.classList.add('email-input--open');
//     emailSend.classList.remove('email__send--on');
//     emailInput.classList.remove('email-input-error');
//   }
// };
//
// emailInput.addEventListener("keyup", emailInputListener(emailInputValue,emailSend,re), false);

  var emailInput = document.getElementById('mce-EMAIL');
  var inputLabel = document.getElementById('email__label');

  emailInput.addEventListener("keyup", function() {
    var emailInputValue = document.forms["mc-embedded-subscribe-form"]["EMAIL"].value;
    var emailSend = document.querySelector('.email__send');
    var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/igm;

    if (emailInputValue == null || emailInputValue == "") {
      emailInput.classList.remove('email__input--open');
      emailInput.classList.remove('email__input--error');
      emailSend.classList.remove('email__send--on');
    } else if (re.test(emailInputValue) && emailInputValue.length > 0) {
      emailInput.classList.add('email__input--open');
      emailInput.classList.remove('email__input-error');
      emailSend.classList.add('email__send--on');
    } else {
      emailInput.classList.add('email__input--open');
      emailSend.classList.remove('email__send--on');
      emailInput.classList.remove('email__input-error');
    }
  });

  emailInput.addEventListener("blur", function() {
    var emailInputValue = document.forms["mc-embedded-subscribe-form"]["EMAIL"].value;
    var emailSign = document.querySelector('.email__input__warning');
    var emailSend = document.querySelector('.email__send');
    var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/igm;

    if (!re.test(emailInputValue) && emailInputValue.length > 0) {
      emailInput.classList.add('email__input--error');
      emailSign.classList.add('email__input__warning--on');
      emailSend.classList.remove('email__send--on');
    } else if (emailInputValue == null || emailInputValue == "") {
      emailInput.classList.remove('email__input--error');
      emailSign.classList.remove('email__input__warning--on');
      emailSend.classList.remove('email__send--on');
    } else {
      emailInput.classList.remove('email__input--error');
      emailSign.classList.remove('email__input__warning--on');
      emailSend.classList.add('email__send--on');
    }
  });

</script>
</html>
